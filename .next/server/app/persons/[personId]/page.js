(()=>{var e={};e.id=171,e.ids=[171],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9347:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>l}),a(7667),a(1506),a(5866);var n=a(3191),r=a(8716),t=a(7922),i=a.n(t),c=a(5231),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);a.d(s,o);let l=["",{children:["persons",{children:["[personId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7667)),"/home/gabbyburke/cw-prototype/app/persons/[personId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"/home/gabbyburke/cw-prototype/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/gabbyburke/cw-prototype/app/persons/[personId]/page.tsx"],h="/persons/[personId]/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/persons/[personId]/page",pathname:"/persons/[personId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3194:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,9404,23))},4397:(e,s,a)=>{Promise.resolve().then(a.bind(a,4069))},7384:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},4069:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var n=a(326),r=a(7577),t=a(434);function i({params:e}){let[s,a]=(0,r.useState)(null),[i,c]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),d=e=>{switch(e.toLowerCase()){case"allergy":return"medical_services";case"icwa eligible":return"diversity_3";case"runaway":return"directions_run";case"worker safety":return"security";case"protective order":return"gavel";case"icpc":return"swap_horiz";case"safe haven":return"shield";case"chronic medical condition":return"local_hospital";default:return"flag"}},h=e=>{switch(e.toLowerCase()){case"allergy":case"runaway":case"worker safety":return"error";case"icwa eligible":return"tertiary";case"protective order":case"chronic medical condition":return"secondary";default:return"primary"}};return i?n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"page-header",children:n.jsx("h1",{className:"page-title",children:"Loading Person Profile..."})})}):o?(0,n.jsxs)("div",{className:"page-container",children:[(0,n.jsxs)("div",{className:"page-header",children:[n.jsx("h1",{className:"page-title",children:"Error Loading Person"}),n.jsx("p",{className:"page-description",children:o})]}),n.jsx("div",{className:"content-wrapper",children:(0,n.jsxs)(t.default,{href:"/cpw",className:"action-btn secondary",children:[n.jsx("span",{className:"icon",children:"arrow_back"}),"Back to CPW Dashboard"]})})]}):s?(0,n.jsxs)("div",{className:"page-container",children:[n.jsx("div",{className:"page-header",children:(0,n.jsxs)("div",{className:"header-with-back",children:[n.jsx(t.default,{href:"/cpw",className:"back-btn",children:n.jsx("span",{className:"icon",children:"arrow_back"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"page-title",children:[s.first_name," ",s.last_name]}),n.jsx("p",{className:"page-description",children:"Person Profile"})]})]})}),(0,n.jsxs)("div",{className:"content-wrapper",children:[(0,n.jsxs)("div",{className:"overview-grid",children:[(0,n.jsxs)("div",{className:"overview-section",children:[n.jsx("h3",{children:"Basic Information"}),(0,n.jsxs)("div",{className:"detail-list",children:[(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Full Name"}),(0,n.jsxs)("p",{children:[s.first_name," ",s.last_name]})]}),(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Date of Birth"}),n.jsx("p",{children:new Date(s.date_of_birth).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Age"}),(0,n.jsxs)("p",{children:[(e=>{let s=new Date,a=new Date(e),n=s.getFullYear()-a.getFullYear(),r=s.getMonth()-a.getMonth();return(r<0||0===r&&s.getDate()<a.getDate())&&n--,n})(s.date_of_birth)," years old"]})]}),(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Role in Case"}),n.jsx("p",{className:"person-role",children:s.role})]}),s.relationship_to_primary_child&&(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Relationship to Primary Child"}),n.jsx("p",{children:s.relationship_to_primary_child})]})]})]}),(0,n.jsxs)("div",{className:"overview-section",children:[n.jsx("h3",{children:"Contact Information"}),(0,n.jsxs)("div",{className:"detail-list",children:[s.contact_info.phone&&(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Phone"}),n.jsx("p",{children:s.contact_info.phone})]}),s.contact_info.email&&(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Email"}),n.jsx("p",{children:s.contact_info.email})]}),s.contact_info.address&&(0,n.jsxs)("div",{className:"detail-item",children:[n.jsx("strong",{children:"Address"}),n.jsx("p",{children:s.contact_info.address})]}),!s.contact_info.phone&&!s.contact_info.email&&!s.contact_info.address&&n.jsx("div",{className:"detail-item",children:n.jsx("p",{className:"no-data",children:"No contact information available"})})]})]}),s.indicators&&s.indicators.length>0&&(0,n.jsxs)("div",{className:"overview-section",children:[n.jsx("h3",{children:"Safety & Risk Indicators"}),n.jsx("div",{className:"indicators-grid",children:s.indicators.map((e,s)=>(0,n.jsxs)("div",{className:`indicator-card ${h(e)}`,children:[n.jsx("span",{className:"icon",children:d(e)}),n.jsx("span",{className:"indicator-text",children:e})]},s))})]})]}),(0,n.jsxs)("div",{className:"person-actions",children:[(0,n.jsxs)("button",{className:"action-btn primary",children:[n.jsx("span",{className:"icon",children:"edit"}),"Edit Person"]}),(0,n.jsxs)("button",{className:"action-btn secondary",children:[n.jsx("span",{className:"icon",children:"note_add"}),"Add Note"]}),(0,n.jsxs)("button",{className:"action-btn secondary",children:[n.jsx("span",{className:"icon",children:"history"}),"View History"]})]})]})]}):(0,n.jsxs)("div",{className:"page-container",children:[(0,n.jsxs)("div",{className:"page-header",children:[n.jsx("h1",{className:"page-title",children:"Person Not Found"}),n.jsx("p",{className:"page-description",children:"The requested person could not be found."})]}),n.jsx("div",{className:"content-wrapper",children:(0,n.jsxs)(t.default,{href:"/cpw",className:"action-btn secondary",children:[n.jsx("span",{className:"icon",children:"arrow_back"}),"Back to CPW Dashboard"]})})]})}a(6824)},6824:(e,s,a)=>{"use strict";a.d(s,{$4:()=>d,BY:()=>t,Ey:()=>m,Kj:()=>h,TZ:()=>p,k4:()=>o,r$:()=>l,tW:()=>c,xL:()=>i});class n{constructor(e="https://ccwis-core-case-mgmt-807576987550.us-central1.run.app"){this.baseUrl=e}async request(e,s={}){try{let a=`${this.baseUrl}${e}`,n=await fetch(a,{headers:{"Content-Type":"application/json",...s.headers},...s});if(!n.ok)return{error:(await n.json().catch(()=>({}))).error||`HTTP ${n.status}: ${n.statusText}`};return{data:await n.json()}}catch(e){return{error:e instanceof Error?e.message:"Unknown error occurred"}}}async getCasesPendingAssignment(){return this.request("/swcm/cases/pending-assignment")}async assignCaseToSWCM(e,s,a){return this.request(`/swcm/cases/${e}/assign`,{method:"POST",body:JSON.stringify({assigned_worker:s,assigned_supervisor:a})})}async getCasesByWorker(e){return this.request(`/cases?assigned_worker=${encodeURIComponent(e)}`)}async getCaseById(e){return this.request(`/cases/${e}`)}async getPersonsByCase(e){return this.request(`/cases/${e}/persons`)}async getCaseNotes(e){return this.request(`/cases/${e}/notes`)}async addCaseNote(e,s,a){return this.request(`/cases/${e}/notes`,{method:"POST",body:JSON.stringify({note_text:s,note_type:a||"General"})})}async updateCase(e,s){return this.request(`/cases/${e}`,{method:"PUT",body:JSON.stringify(s)})}async searchPersons(e){return this.request(`/persons/search?q=${encodeURIComponent(e)}`)}async getPersonById(e){return this.request(`/persons/${e}`)}async healthCheck(){return this.request("/health")}}let r=new n,t=()=>r.getCasesPendingAssignment(),i=(e,s,a)=>r.assignCaseToSWCM(e,s,a),c=e=>r.getCasesByWorker(e),o=e=>r.getCaseById(e),l=(e,s,a)=>r.addCaseNote(e,s,a),d=(e,s)=>r.updateCase(e,s),h=e=>r.searchPersons(e),p=e=>r.getPersonById(e),m=async e=>(await new Promise(e=>setTimeout(e,400)),!e||e.length<2)?{data:{incidents:[]},error:void 0}:{data:{incidents:[{incident_number:"INC-2024-001234",child_first_names:"Emma",child_last_names:"Johnson",parent_first_names:"Michael, Sarah",parent_last_names:"Johnson, Johnson",cps_worker:"Dana Wilson",due_date:"2024-09-15",county_of_assessment:"King County",intake_date:"2024-08-15",reported_native_american_heritage:"No",perpetrators:"Michael Johnson",perpetrator_first_name:"Michael",perpetrator_last_name:"Johnson",findings:"Substantiated",allegations:"Physical abuse",victims:"Emma Johnson",victim_first_name:"Emma",victim_last_name:"Johnson",person_id:"12345",role:"Client",gender:"Female",age_calculated:8,prior_workers:"None",current_address:"123 Main St",address_type:"Residential",residence_county:"King County",date_of_birth:"2016-03-12",phone_number:"206-555-0123",phone_type:"Home",address:"123 Main St",city:"Seattle",state:"WA",zip_code:98101,non_custodial_parent:!1,non_custodial_parent_person_id:"",non_custodial_parent_first_name:"",non_custodial_parent_last_name:"",non_custodial_parent_middle_name:"",non_custodial_parent_dob:"",non_custodial_parent_ssn:"",non_custodial_parent_suffix:"",non_custodial_parent_sex:"",non_custodial_parent_race:"",non_custodial_parent_ethnicity:"",legal_custodian:"Sarah Johnson",guardian:"",prior_assessment:"None",type_of_appointment:"",clinic_name:"",appointment_date:""}].filter(s=>s.incident_number.toLowerCase().includes(e.toLowerCase())||s.child_first_names.toLowerCase().includes(e.toLowerCase())||s.child_last_names.toLowerCase().includes(e.toLowerCase())||s.allegations.toLowerCase().includes(e.toLowerCase()))},error:void 0}},434:(e,s,a)=>{"use strict";a.d(s,{default:()=>r.a});var n=a(9404),r=a.n(n)},1506:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i,metadata:()=>t});var n=a(9510),r=a(7371);a(7272);let t={title:"VISION - Child Welfare Information System",description:"VISION - Comprehensive Child Welfare Information System for state agencies"};function i({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{children:(0,n.jsxs)("div",{className:"app-layout",children:[(0,n.jsxs)("aside",{className:"sidebar",children:[(0,n.jsxs)("div",{className:"sidebar-header",children:[n.jsx("h1",{className:"sidebar-brand",children:"VISION"}),n.jsx("p",{className:"sidebar-subtitle",children:"Child Welfare System"})]}),n.jsx("nav",{className:"sidebar-nav",children:(0,n.jsxs)("div",{className:"nav-section",children:[n.jsx("div",{className:"nav-section-header",children:n.jsx("span",{className:"section-label",children:"User Personas"})}),(0,n.jsxs)("ul",{className:"nav-list",children:[n.jsx("li",{children:(0,n.jsxs)(r.default,{href:"/cpw",className:"nav-link",children:[n.jsx("span",{className:"icon",children:"fact_check"}),n.jsx("span",{children:"CPW"})]})}),n.jsx("li",{children:(0,n.jsxs)(r.default,{href:"/cpw-supervisor",className:"nav-link",children:[n.jsx("span",{className:"icon",children:"approval"}),n.jsx("span",{children:"CPW Supervisor"})]})}),n.jsx("li",{children:(0,n.jsxs)(r.default,{href:"/swcm-supervisor",className:"nav-link",children:[n.jsx("span",{className:"icon",children:"supervisor_account"}),n.jsx("span",{children:"SWCM Supervisor"})]})}),n.jsx("li",{children:(0,n.jsxs)(r.default,{href:"/",className:"nav-link",children:[n.jsx("span",{className:"icon",children:"dashboard"}),n.jsx("span",{children:"SWCM"})]})})]})]})})]}),(0,n.jsxs)("div",{className:"main-layout",children:[n.jsx("header",{className:"top-header",children:(0,n.jsxs)("div",{className:"header-content",children:[n.jsx("div",{className:"header-spacer"}),(0,n.jsxs)("div",{className:"header-actions",children:[n.jsx("button",{className:"action-btn secondary",children:n.jsx("span",{className:"icon",children:"notifications"})}),n.jsx("button",{className:"action-btn secondary",children:n.jsx("span",{className:"icon",children:"settings"})}),n.jsx("button",{className:"action-btn secondary",children:n.jsx("span",{className:"icon",children:"person"})})]})]})}),n.jsx("main",{className:"main-content",children:e})]})]})})})}},7667:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});let n=(0,a(8570).createProxy)(String.raw`/home/gabbyburke/cw-prototype/app/persons/[personId]/page.tsx#default`)},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),n=s.X(0,[991],()=>a(9347));module.exports=n})();