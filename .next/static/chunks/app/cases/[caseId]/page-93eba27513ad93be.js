(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[586],{5627:function(e,s,a){Promise.resolve().then(a.bind(a,6171))},6171:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return h}});var n=a(7437),i=a(2265),t=a(7648),r=a(9376),c=a(9116),l=a(29),o=a.n(l);function d(e){let{steps:s,currentStep:a,onStepClick:i,className:t=""}=e;return(0,n.jsxs)("div",{className:"jsx-b433722c44d104f3 "+"chevron-stepper ".concat(t),children:[s.map((e,t)=>{let r=e.id===a,c=e.completed,l=e.started,o=e.disabled;return(0,n.jsx)("div",{onClick:()=>!o&&i(e.id),style:{zIndex:s.length-t},className:"jsx-b433722c44d104f3 "+"chevron-step ".concat(r?"active":""," ").concat(c?"completed":""," ").concat(l&&!c?"started":""," ").concat(o?"disabled":""),children:(0,n.jsxs)("div",{className:"jsx-b433722c44d104f3 chevron-content",children:[(0,n.jsx)("div",{className:"jsx-b433722c44d104f3 step-icon",children:c?(0,n.jsx)("div",{className:"jsx-b433722c44d104f3 checkbox-icon",children:(0,n.jsx)("span",{className:"jsx-b433722c44d104f3 icon",children:"check_box"})}):(0,n.jsx)("span",{className:"jsx-b433722c44d104f3 step-number",children:t+1})}),(0,n.jsx)("span",{className:"jsx-b433722c44d104f3 step-title",children:e.title})]})},e.id)}),(0,n.jsx)(o(),{id:"b433722c44d104f3",children:'.chevron-stepper.jsx-b433722c44d104f3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:0;padding:0;overflow:hidden;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);width:100%}.chevron-stepper.full-width.jsx-b433722c44d104f3{width:100%}.chevron-stepper.full-width.jsx-b433722c44d104f3 .chevron-step.jsx-b433722c44d104f3{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-width:0}.chevron-step.jsx-b433722c44d104f3{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px 28px 20px 20px;background:-webkit-linear-gradient(315deg,#f1f5f9 0%,#e2e8f0 100%);background:-moz-linear-gradient(315deg,#f1f5f9 0%,#e2e8f0 100%);background:-o-linear-gradient(315deg,#f1f5f9 0%,#e2e8f0 100%);background:linear-gradient(135deg,#f1f5f9 0%,#e2e8f0 100%);color:#64748b;cursor:pointer;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease;min-width:140px;margin-right:-14px;-webkit-clip-path:polygon(0 0,-webkit-calc(100% - 14px)0,100%50%,-webkit-calc(100% - 14px)100%,0 100%,14px 50%);clip-path:polygon(0 0,-webkit-calc(100% - 14px)0,100%50%,-webkit-calc(100% - 14px)100%,0 100%,14px 50%);clip-path:polygon(0 0,-moz-calc(100% - 14px)0,100%50%,-moz-calc(100% - 14px)100%,0 100%,14px 50%);clip-path:polygon(0 0,calc(100% - 14px)0,100%50%,calc(100% - 14px)100%,0 100%,14px 50%);border:1px solid#cbd5e1}.chevron-step.jsx-b433722c44d104f3:first-child{margin-left:0;padding-left:24px;-webkit-clip-path:polygon(0 0,-webkit-calc(100% - 14px)0,100%50%,-webkit-calc(100% - 14px)100%,0 100%);clip-path:polygon(0 0,-webkit-calc(100% - 14px)0,100%50%,-webkit-calc(100% - 14px)100%,0 100%);clip-path:polygon(0 0,-moz-calc(100% - 14px)0,100%50%,-moz-calc(100% - 14px)100%,0 100%);clip-path:polygon(0 0,calc(100% - 14px)0,100%50%,calc(100% - 14px)100%,0 100%)}.chevron-step.jsx-b433722c44d104f3:last-child{margin-right:0;padding-right:24px;-webkit-clip-path:polygon(0 0,100%0,100%100%,0 100%,14px 50%);clip-path:polygon(0 0,100%0,100%100%,0 100%,14px 50%)}.chevron-step.jsx-b433722c44d104f3:first-child:last-child{-webkit-clip-path:none;clip-path:none;margin-right:0}.chevron-step.completed.jsx-b433722c44d104f3{background:-webkit-linear-gradient(315deg,#10b981 0%,#059669 100%);background:-moz-linear-gradient(315deg,#10b981 0%,#059669 100%);background:-o-linear-gradient(315deg,#10b981 0%,#059669 100%);background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:white;border-color:#047857;-webkit-box-shadow:0 2px 8px rgba(16,185,129,.3);-moz-box-shadow:0 2px 8px rgba(16,185,129,.3);box-shadow:0 2px 8px rgba(16,185,129,.3)}.chevron-step.active.jsx-b433722c44d104f3{background:-webkit-linear-gradient(315deg,#8b5cf6 0%,#7c3aed 100%);background:-moz-linear-gradient(315deg,#8b5cf6 0%,#7c3aed 100%);background:-o-linear-gradient(315deg,#8b5cf6 0%,#7c3aed 100%);background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);color:white;border-color:#6d28d9;-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-ms-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02);-webkit-box-shadow:0 4px 12px rgba(139,92,246,.4);-moz-box-shadow:0 4px 12px rgba(139,92,246,.4);box-shadow:0 4px 12px rgba(139,92,246,.4)}.chevron-step.started.jsx-b433722c44d104f3{background:-webkit-linear-gradient(315deg,#ddd6fe 0%,#c4b5fd 100%);background:-moz-linear-gradient(315deg,#ddd6fe 0%,#c4b5fd 100%);background:-o-linear-gradient(315deg,#ddd6fe 0%,#c4b5fd 100%);background:linear-gradient(135deg,#ddd6fe 0%,#c4b5fd 100%);color:#6d28d9;border-color:#8b5cf6;-webkit-box-shadow:0 2px 8px rgba(139,92,246,.2);-moz-box-shadow:0 2px 8px rgba(139,92,246,.2);box-shadow:0 2px 8px rgba(139,92,246,.2)}.chevron-step.started.jsx-b433722c44d104f3 .step-icon.jsx-b433722c44d104f3{background:-webkit-linear-gradient(315deg,#8b5cf6 0%,#7c3aed 100%);background:-moz-linear-gradient(315deg,#8b5cf6 0%,#7c3aed 100%);background:-o-linear-gradient(315deg,#8b5cf6 0%,#7c3aed 100%);background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);color:white}.chevron-step.disabled.jsx-b433722c44d104f3{background:-webkit-linear-gradient(315deg,#f8fafc 0%,#e2e8f0 100%);background:-moz-linear-gradient(315deg,#f8fafc 0%,#e2e8f0 100%);background:-o-linear-gradient(315deg,#f8fafc 0%,#e2e8f0 100%);background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);color:#94a3b8;cursor:not-allowed;opacity:.6;border-color:#e2e8f0}.chevron-step.jsx-b433722c44d104f3:not(.disabled):hover{background:-webkit-linear-gradient(315deg,#e2e8f0 0%,#cbd5e1 100%);background:-moz-linear-gradient(315deg,#e2e8f0 0%,#cbd5e1 100%);background:-o-linear-gradient(315deg,#e2e8f0 0%,#cbd5e1 100%);background:linear-gradient(135deg,#e2e8f0 0%,#cbd5e1 100%);color:#475569;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px);-webkit-box-shadow:0 2px 8px rgba(0,0,0,.1);-moz-box-shadow:0 2px 8px rgba(0,0,0,.1);box-shadow:0 2px 8px rgba(0,0,0,.1)}.chevron-step.completed.jsx-b433722c44d104f3:hover{background:-webkit-linear-gradient(315deg,#059669 0%,#047857 100%);background:-moz-linear-gradient(315deg,#059669 0%,#047857 100%);background:-o-linear-gradient(315deg,#059669 0%,#047857 100%);background:linear-gradient(135deg,#059669 0%,#047857 100%);-webkit-box-shadow:0 4px 12px rgba(16,185,129,.4);-moz-box-shadow:0 4px 12px rgba(16,185,129,.4);box-shadow:0 4px 12px rgba(16,185,129,.4)}.chevron-step.active.jsx-b433722c44d104f3:hover{background:-webkit-linear-gradient(315deg,#7c3aed 0%,#6d28d9 100%);background:-moz-linear-gradient(315deg,#7c3aed 0%,#6d28d9 100%);background:-o-linear-gradient(315deg,#7c3aed 0%,#6d28d9 100%);background:linear-gradient(135deg,#7c3aed 0%,#6d28d9 100%);-webkit-box-shadow:0 6px 16px rgba(139,92,246,.5);-moz-box-shadow:0 6px 16px rgba(139,92,246,.5);box-shadow:0 6px 16px rgba(139,92,246,.5)}.chevron-step.disabled.jsx-b433722c44d104f3:hover{background:-webkit-linear-gradient(315deg,#f8fafc 0%,#e2e8f0 100%);background:-moz-linear-gradient(315deg,#f8fafc 0%,#e2e8f0 100%);background:-o-linear-gradient(315deg,#f8fafc 0%,#e2e8f0 100%);background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);color:#94a3b8;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.chevron-content.jsx-b433722c44d104f3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;position:relative;z-index:1}.step-icon.jsx-b433722c44d104f3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:24px;height:24px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:rgba(255,255,255,.2);font-size:14px;font-weight:600}.chevron-step.completed.jsx-b433722c44d104f3 .step-icon.jsx-b433722c44d104f3,.chevron-step.active.jsx-b433722c44d104f3 .step-icon.jsx-b433722c44d104f3{background:rgba(255,255,255,.3)}.chevron-step.disabled.jsx-b433722c44d104f3 .step-icon.jsx-b433722c44d104f3{background:rgba(148,163,184,.3)}.step-number.jsx-b433722c44d104f3{font-size:12px;font-weight:600}.step-title.jsx-b433722c44d104f3{font-size:14px;font-weight:500;white-space:nowrap}.icon.jsx-b433722c44d104f3{font-family:"Material Icons";font-size:16px}'})]})}function p(e){let{isOpen:s,onClose:a,onSelectIncident:t}=e,[r,l]=(0,i.useState)(""),[o,d]=(0,i.useState)([]),[p,x]=(0,i.useState)(!1),[m,h]=(0,i.useState)(null),[b,g]=(0,i.useState)(!1),[u,j]=(0,i.useState)({child_name:"",parent_name:"",county:"",allegation_type:"",date_from:"",date_to:""});(0,i.useEffect)(()=>{if(r.length>=2){let e=setTimeout(()=>{f(r)},300);return()=>clearTimeout(e)}d([])},[r]);let f=async e=>{x(!0),h(null);try{let s=await (0,c.Ey)(e);s.error?(h(s.error),d([])):s.data&&d(s.data.incidents)}catch(e){h("Failed to search incidents"),d([])}finally{x(!1)}},v=e=>e?new Date(e).toLocaleDateString():"N/A",y=e=>{t(e),a()};return s?(0,n.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,n.jsxs)("div",{className:"modal-container large scrollable",children:[(0,n.jsxs)("div",{className:"modal-header magic-modal-header",children:[(0,n.jsxs)("div",{className:"magic-header-content",children:[(0,n.jsx)("div",{className:"magic-header-icon",children:"✨"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Magic Button"}),(0,n.jsx)("p",{children:"Search JARVIS incidents to import case data"})]})]}),(0,n.jsx)("button",{onClick:a,className:"modal-close",children:(0,n.jsx)("span",{className:"icon",children:"close"})})]}),(0,n.jsxs)("div",{className:"modal-body",children:[(0,n.jsxs)("div",{className:"magic-search-section",children:[(0,n.jsxs)("div",{className:"magic-search-bar",children:[(0,n.jsx)("span",{className:"search-icon icon",children:"search"}),(0,n.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"Enter incident number (e.g., INC-2024-001234)...",className:"magic-search-input",autoFocus:!0}),r&&(0,n.jsx)("button",{onClick:()=>l(""),className:"clear-search-btn",children:(0,n.jsx)("span",{className:"icon",children:"close"})})]}),(0,n.jsx)("div",{className:"search-options",children:(0,n.jsxs)("button",{onClick:()=>g(!b),className:"advanced-search-toggle ".concat(b?"active":""),children:[(0,n.jsx)("span",{className:"icon",children:"tune"}),"Advanced Search",(0,n.jsx)("span",{className:"icon",children:b?"expand_less":"expand_more"})]})}),b&&(0,n.jsxs)("div",{className:"advanced-search-form",children:[(0,n.jsx)("h4",{children:"Advanced Search Options"}),(0,n.jsxs)("div",{className:"form-grid",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Child Name"}),(0,n.jsx)("input",{type:"text",value:u.child_name,onChange:e=>j({...u,child_name:e.target.value}),placeholder:"Enter child's name"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Parent Name"}),(0,n.jsx)("input",{type:"text",value:u.parent_name,onChange:e=>j({...u,parent_name:e.target.value}),placeholder:"Enter parent's name"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"County"}),(0,n.jsx)("input",{type:"text",value:u.county,onChange:e=>j({...u,county:e.target.value}),placeholder:"Enter county"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Allegation Type"}),(0,n.jsxs)("select",{value:u.allegation_type,onChange:e=>j({...u,allegation_type:e.target.value}),children:[(0,n.jsx)("option",{value:"",children:"All Types"}),(0,n.jsx)("option",{value:"Physical abuse",children:"Physical Abuse"}),(0,n.jsx)("option",{value:"Sexual abuse",children:"Sexual Abuse"}),(0,n.jsx)("option",{value:"Neglect",children:"Neglect"}),(0,n.jsx)("option",{value:"Emotional abuse",children:"Emotional Abuse"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Date From"}),(0,n.jsx)("input",{type:"date",value:u.date_from,onChange:e=>j({...u,date_from:e.target.value})})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Date To"}),(0,n.jsx)("input",{type:"date",value:u.date_to,onChange:e=>j({...u,date_to:e.target.value})})]})]}),(0,n.jsxs)("div",{className:"form-actions",children:[(0,n.jsxs)("button",{onClick:()=>{u.child_name&&f(u.child_name)},className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"search"}),"Search"]}),(0,n.jsx)("button",{onClick:()=>j({child_name:"",parent_name:"",county:"",allegation_type:"",date_from:"",date_to:""}),className:"action-btn secondary",children:"Clear Filters"})]})]})]}),(0,n.jsxs)("div",{className:"search-results-section",children:[m&&(0,n.jsxs)("div",{className:"error-message",children:[(0,n.jsx)("span",{className:"icon",children:"error"}),m]}),p&&(0,n.jsxs)("div",{className:"loading-state",children:[(0,n.jsx)("span",{className:"icon",children:"hourglass_empty"}),"Searching JARVIS incidents..."]}),r.length>=2&&!p&&0===o.length&&!m&&(0,n.jsxs)("div",{className:"no-results",children:[(0,n.jsx)("span",{className:"icon",children:"search_off"}),(0,n.jsx)("h3",{children:"No incidents found"}),(0,n.jsx)("p",{children:"No incidents match your search criteria. Try a different incident number or use advanced search."})]}),o.length>0&&(0,n.jsxs)("div",{className:"results-container",children:[(0,n.jsxs)("h4",{children:["Found ",o.length," incident(s)"]}),(0,n.jsx)("div",{className:"incidents-list",children:o.map(e=>(0,n.jsxs)("div",{className:"incident-card",children:[(0,n.jsxs)("div",{className:"incident-header",children:[(0,n.jsx)("div",{className:"incident-number",children:(0,n.jsx)("strong",{children:e.incident_number})}),(0,n.jsxs)("div",{className:"incident-date",children:["Intake: ",v(e.intake_date)]})]}),(0,n.jsxs)("div",{className:"incident-details",children:[(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"Child:"}),(0,n.jsxs)("span",{className:"value",children:[e.child_first_names," ",e.child_last_names]})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"Age:"}),(0,n.jsxs)("span",{className:"value",children:[e.age_calculated," years old"]})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"Parents:"}),(0,n.jsxs)("span",{className:"value",children:[e.parent_first_names," ",e.parent_last_names]})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"Allegations:"}),(0,n.jsx)("span",{className:"value",children:e.allegations})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"County:"}),(0,n.jsx)("span",{className:"value",children:e.residence_county})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"CPS Worker:"}),(0,n.jsx)("span",{className:"value",children:e.cps_worker})]}),e.perpetrators&&(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{className:"label",children:"Perpetrator:"}),(0,n.jsx)("span",{className:"value perpetrator",children:e.perpetrators})]})]}),(0,n.jsx)("div",{className:"incident-actions",children:(0,n.jsxs)("button",{onClick:()=>y(e),className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"download"}),"Import Case Data"]})})]},e.incident_number))})]}),r.length<2&&(0,n.jsxs)("div",{className:"search-help",children:[(0,n.jsx)("span",{className:"icon",children:"info"}),(0,n.jsx)("h3",{children:"Search JARVIS Incidents"}),(0,n.jsx)("p",{children:"Enter an incident number to search for cases from the JARVIS intake system. The Magic Button will pull in all relevant case information to help with your case setup."}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"Start typing an incident number (minimum 2 characters)"}),(0,n.jsx)("li",{children:"Use advanced search for more specific criteria"}),(0,n.jsx)("li",{children:"Select an incident to import all case data automatically"})]})]})]})]}),(0,n.jsx)("div",{className:"modal-footer",children:(0,n.jsx)("div",{className:"modal-actions",children:(0,n.jsx)("button",{onClick:a,className:"action-btn secondary",children:"Cancel"})})})]})}):null}let x=[{id:"associations",title:"Associations",description:"Manage family associations and relationships",required:!0},{id:"living_arrangements",title:"Living Arrangements",description:"Document current living arrangements for all children",required:!0},{id:"services",title:"Services",description:"Set up and manage case services",required:!0},{id:"court",title:"Court",description:"Manage court information and legal documents",required:!0},{id:"checklist",title:"Checklist",description:"SWCM completion checklist (completed by SWCM)",required:!1},{id:"approval",title:"Approval",description:"Supervisor approval (completed by supervisor)",required:!1}];function m(e){let{case_:s,onProgressUpdate:a}=e,[r,c]=(0,i.useState)([]),[l,m]=(0,i.useState)("associations"),[h,b]=(0,i.useState)(!1),[g,u]=(0,i.useState)(!1),[j,f]=(0,i.useState)("case-members"),v=()=>{try{let e=localStorage.getItem("case_setup_".concat(s.case_id)),a=e&&JSON.parse(e).completedMilestones||[],n=x.map(e=>({...e,completed:a.includes(e.id)}));c(n)}catch(e){console.error("Error loading case setup progress:",e),c(x.map(e=>({...e,completed:!1})))}},y=()=>s.persons?s.persons.filter(e=>["Client","Parent","Guardian","Caregiver","Alleged Perpetrator"].includes(e.role)):[],N=()=>s.persons?s.persons.filter(e=>["Relative","Family Friend","Support Person","Emergency Contact"].includes(e.role)):[],w=e=>{f(e),u(!0)},k=e=>{console.log("Remove person:",e)},_=e=>{console.log("Edit person:",e)};return(0,i.useEffect)(()=>{v()},[s.case_id]),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 case-setup-view",children:[(0,n.jsx)("div",{className:"jsx-237839d362e72b53 setup-header",children:(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 header-content",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 case-info",children:[(0,n.jsx)("h1",{className:"jsx-237839d362e72b53",children:s.case_display_name||s.family_name}),(0,n.jsxs)("p",{className:"jsx-237839d362e72b53",children:[s.case_number," • Case Setup"]})]}),(0,n.jsxs)(t.default,{href:"/",className:"action-btn secondary",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"arrow_back"}),"Back to Dashboard"]})]})}),(0,n.jsx)("div",{className:"jsx-237839d362e72b53 setup-stepper",children:(0,n.jsx)(d,{steps:r.map(e=>({id:e.id,title:e.title,completed:e.completed,disabled:"checklist"===e.id||"approval"===e.id})),currentStep:l,onStepClick:e=>{m(e)},className:"full-width"})}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 setup-content",children:["associations"===l&&(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 associations-step",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 step-header",children:[(0,n.jsx)("h2",{className:"jsx-237839d362e72b53",children:"Associations"}),(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Manage family associations and relationships for this case."})]}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 associations-grid",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 association-box",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 box-header",children:[(0,n.jsx)("h3",{className:"jsx-237839d362e72b53",children:"Case Members"}),(0,n.jsxs)("button",{onClick:()=>w("case-members"),className:"jsx-237839d362e72b53 action-btn primary",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"person_add"}),"Add Person"]})]}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 people-list",children:[y().map(e=>(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 person-item",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 person-info",children:[(0,n.jsxs)("strong",{className:"jsx-237839d362e72b53",children:[e.first_name," ",e.last_name]}),(0,n.jsx)("span",{className:"jsx-237839d362e72b53 person-role",children:e.role})]}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 person-actions",children:[(0,n.jsxs)("button",{onClick:()=>_(e),className:"jsx-237839d362e72b53 action-btn small secondary",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"edit"}),"Edit"]}),(0,n.jsxs)("button",{onClick:()=>k(e.person_id),className:"jsx-237839d362e72b53 action-btn small error",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"delete"}),"Remove"]})]})]},e.person_id)),0===y().length&&(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 empty-state",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"people"}),(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"No case members added yet"})]})]})]}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 association-box",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 box-header",children:[(0,n.jsx)("h3",{className:"jsx-237839d362e72b53",children:"Relatives/Family Supports"}),(0,n.jsxs)("button",{onClick:()=>w("relatives"),className:"jsx-237839d362e72b53 action-btn primary",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"person_add"}),"Add Person"]})]}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 people-list",children:[N().map(e=>(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 person-item",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 person-info",children:[(0,n.jsxs)("strong",{className:"jsx-237839d362e72b53",children:[e.first_name," ",e.last_name]}),(0,n.jsx)("span",{className:"jsx-237839d362e72b53 person-role",children:e.role})]}),(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 person-actions",children:[(0,n.jsxs)("button",{onClick:()=>_(e),className:"jsx-237839d362e72b53 action-btn small secondary",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"edit"}),"Edit"]}),(0,n.jsxs)("button",{onClick:()=>k(e.person_id),className:"jsx-237839d362e72b53 action-btn small error",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"delete"}),"Remove"]})]})]},e.person_id)),0===N().length&&(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 empty-state",children:[(0,n.jsx)("span",{className:"jsx-237839d362e72b53 icon",children:"family_restroom"}),(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"No relatives or family supports added yet"})]})]})]})]})]}),"living_arrangements"===l&&(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 living-arrangements-step",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 step-header",children:[(0,n.jsx)("h2",{className:"jsx-237839d362e72b53",children:"Living Arrangements"}),(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Document current living arrangements for all children in this case."})]}),(0,n.jsx)("div",{className:"jsx-237839d362e72b53 placeholder-content",children:(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Living arrangements content will be implemented next."})})]}),"services"===l&&(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 services-step",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 step-header",children:[(0,n.jsx)("h2",{className:"jsx-237839d362e72b53",children:"Services"}),(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Set up and manage case services and support programs."})]}),(0,n.jsx)("div",{className:"jsx-237839d362e72b53 placeholder-content",children:(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Services content will be implemented next."})})]}),"court"===l&&(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 court-step",children:[(0,n.jsxs)("div",{className:"jsx-237839d362e72b53 step-header",children:[(0,n.jsx)("h2",{className:"jsx-237839d362e72b53",children:"Court"}),(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Manage court information and legal documents for this case."})]}),(0,n.jsx)("div",{className:"jsx-237839d362e72b53 placeholder-content",children:(0,n.jsx)("p",{className:"jsx-237839d362e72b53",children:"Court content will be implemented next."})})]})]}),(0,n.jsx)(p,{isOpen:g,onClose:()=>u(!1),onSelectIncident:e=>{console.log("Selected incident:",e,"for type:",j),u(!1)}}),(0,n.jsx)(o(),{id:"237839d362e72b53",children:".case-setup-view.jsx-237839d362e72b53{min-height:100vh;background-color:var(--background)}.setup-header.jsx-237839d362e72b53{padding:var(--unit-4)var(--unit-6);border-bottom:1px solid var(--outline-variant);background-color:var(--surface)}.header-content.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.header-content.jsx-237839d362e72b53 .action-btn.jsx-237839d362e72b53{width:auto;min-width:160px;max-width:200px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.case-info.jsx-237839d362e72b53 h1.jsx-237839d362e72b53{margin:0;font-size:1.5rem;font-weight:600;color:var(--on-surface)}.case-info.jsx-237839d362e72b53 p.jsx-237839d362e72b53{margin:4px 0 0 0;font-size:.875rem;color:var(--on-surface-variant)}.setup-stepper.jsx-237839d362e72b53{padding:var(--unit-4)var(--unit-6);background-color:var(--surface-container-low);border-bottom:1px solid var(--outline-variant)}.setup-content.jsx-237839d362e72b53{padding:var(--unit-6)}.step-header.jsx-237839d362e72b53{margin-bottom:var(--unit-6)}.step-header.jsx-237839d362e72b53 h2.jsx-237839d362e72b53{margin:0 0 var(--unit-2)0;font-size:1.5rem;font-weight:600;color:var(--on-surface)}.step-header.jsx-237839d362e72b53 p.jsx-237839d362e72b53{margin:0;font-size:1rem;color:var(--on-surface-variant)}.associations-grid.jsx-237839d362e72b53{display:grid;grid-template-columns:1fr 1fr;gap:var(--unit-6)}.association-box.jsx-237839d362e72b53{background-color:var(--surface-container-low);border:1px solid var(--outline-variant);-webkit-border-radius:var(--unit-3);-moz-border-radius:var(--unit-3);border-radius:var(--unit-3);padding:var(--unit-5)}.box-header.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:var(--unit-4)}.box-header.jsx-237839d362e72b53 h3.jsx-237839d362e72b53{margin:0;font-size:1.125rem;font-weight:600;color:var(--on-surface)}.box-header.jsx-237839d362e72b53 .action-btn.jsx-237839d362e72b53{width:auto;min-width:120px;max-width:150px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.people-list.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:var(--unit-3)}.person-item.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--unit-3);background-color:var(--surface);border:1px solid var(--outline-variant);-webkit-border-radius:var(--unit-2);-moz-border-radius:var(--unit-2);border-radius:var(--unit-2)}.person-info.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:var(--unit-1)}.person-info.jsx-237839d362e72b53 strong.jsx-237839d362e72b53{font-size:.875rem;font-weight:600;color:var(--on-surface)}.person-role.jsx-237839d362e72b53{font-size:.75rem;color:var(--primary);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.person-actions.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--unit-2)}.person-actions.jsx-237839d362e72b53 .action-btn.jsx-237839d362e72b53{width:auto;min-width:70px;max-width:90px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.empty-state.jsx-237839d362e72b53{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--unit-3);padding:var(--unit-6);color:var(--on-surface-variant);text-align:center}.empty-state.jsx-237839d362e72b53 .icon.jsx-237839d362e72b53{font-family:var(--font-icon);font-size:2rem;color:var(--outline)}.empty-state.jsx-237839d362e72b53 p.jsx-237839d362e72b53{margin:0;font-size:.875rem}.placeholder-content.jsx-237839d362e72b53{text-align:center;padding:var(--unit-8);color:var(--on-surface-variant)}@media(max-width:768px){.associations-grid.jsx-237839d362e72b53{grid-template-columns:1fr}.header-content.jsx-237839d362e72b53{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:var(--unit-3);-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.header-content.jsx-237839d362e72b53 .action-btn.jsx-237839d362e72b53{width:100%;max-width:none}.person-item.jsx-237839d362e72b53{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:var(--unit-3)}.person-actions.jsx-237839d362e72b53{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end}.box-header.jsx-237839d362e72b53 .action-btn.jsx-237839d362e72b53{width:100%;max-width:none}}"})]})}function h(){var e;let s=(0,r.useParams)().caseId,[a,l]=(0,i.useState)(null),[o,d]=(0,i.useState)([]),[p,x]=(0,i.useState)([]),[h,b]=(0,i.useState)(!0),[g,u]=(0,i.useState)(null),[j,f]=(0,i.useState)("overview"),[v,y]=(0,i.useState)({people:"people","case-management":"services",legal:"court"});(0,i.useEffect)(()=>{s&&N()},[s]);let N=async()=>{b(!0),u(null);try{let e=await (0,c.k4)(s);e.error?u(e.error):e.data?(l(e.data),d(e.data.persons||[]),x(e.data.timeline_events||[])):u("Case not found")}catch(e){u("Failed to load case data")}b(!1)},w=e=>{switch(e){case"case_note":return"note";case"visit":return"home";case"court_hearing":return"gavel";case"placement_change":return"swap_horiz";case"assessment":return"assignment";case"document_upload":return"upload_file";case"assignment_change":return"person_add";default:return"event"}},k=e=>{switch(e){case"high":return"error";case"medium":return"secondary";default:return"primary"}};return h?(0,n.jsx)("div",{className:"page-container",children:(0,n.jsxs)("div",{className:"page-header",children:[(0,n.jsx)("h1",{className:"page-title",children:"Loading Case Details..."}),(0,n.jsx)("p",{className:"page-description",children:"Please wait while we load the case information."})]})}):g?(0,n.jsxs)("div",{className:"page-container",children:[(0,n.jsxs)("div",{className:"page-header",children:[(0,n.jsx)("h1",{className:"page-title",children:"Error Loading Case"}),(0,n.jsx)("p",{className:"page-description",children:g})]}),(0,n.jsxs)("div",{className:"content-wrapper",children:[(0,n.jsxs)("div",{className:"error-message",children:[(0,n.jsx)("span",{className:"icon",children:"error"}),(0,n.jsx)("p",{children:"Unable to load case details. Please try again or contact support if the problem persists."})]}),(0,n.jsxs)(t.default,{href:"/",className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"arrow_back"}),"Back to Dashboard"]})]})]}):a?"Case Setup"===a.status?(0,n.jsx)(m,{case_:a,onProgressUpdate:N}):(0,n.jsxs)("div",{className:"page-container",children:[(0,n.jsxs)("div",{className:"page-header",children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--unit-4)"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"page-title",children:a.case_display_name||a.family_name}),(0,n.jsxs)("p",{className:"page-description",style:{fontSize:"1.1rem",marginBottom:"var(--unit-2)"},children:[a.case_number," • Primary Child: ",a.primary_child]}),(0,n.jsx)("div",{style:{display:"flex",gap:"var(--unit-2)",marginBottom:"var(--unit-2)"},children:(0,n.jsx)("span",{className:"badge ".concat((e=>{switch(e.toLowerCase()){case"active":return"primary";case"pending assignment":default:return"secondary";case"closed":case"draft":return"tertiary"}})(a.status)),children:a.status})})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"var(--unit-2)"},children:[(0,n.jsxs)(t.default,{href:"/",className:"action-btn secondary",children:[(0,n.jsx)("span",{className:"icon",children:"arrow_back"}),"Back to Dashboard"]}),(0,n.jsxs)("button",{className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"edit"}),"Edit Case"]})]})]}),(0,n.jsxs)("div",{className:"case-summary",children:[(0,n.jsxs)("div",{className:"summary-item",children:[(0,n.jsx)("span",{className:"icon",children:"schedule"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Intake Date:"}),(0,n.jsx)("p",{children:new Date(a.created_date).toLocaleDateString()})]})]}),(0,n.jsxs)("div",{className:"summary-item",children:[(0,n.jsx)("span",{className:"icon",children:"assignment_turned_in"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Assessment Approval Date:"}),(0,n.jsx)("p",{children:(null===(e=a.workflow_status)||void 0===e?void 0:e.cpw_supervisor_approved)?new Date(a.last_updated).toLocaleDateString():"Pending"})]})]}),(0,n.jsxs)("div",{className:"summary-item",children:[(0,n.jsx)("span",{className:"icon",children:"report"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Allegation(s):"}),(0,n.jsx)("p",{children:a.allegation_type}),a.allegation_description&&(0,n.jsx)("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginTop:"4px"},children:a.allegation_description})]})]}),(0,n.jsxs)("div",{className:"summary-item",children:[(0,n.jsx)("span",{className:"icon",children:"child_care"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Child(ren):"}),(0,n.jsx)("div",{children:o.filter(e=>"Client"===e.role||"child"===e.role).length>0?o.filter(e=>"Client"===e.role||"child"===e.role).map((e,s)=>(0,n.jsxs)("span",{children:[(0,n.jsxs)(t.default,{href:"/persons/".concat(e.person_id),className:"child-link",style:{color:"var(--primary)",textDecoration:"none"},children:[e.first_name," ",e.last_name]}),s<o.filter(e=>"Client"===e.role||"child"===e.role).length-1&&", "]},e.person_id)):(0,n.jsx)("span",{style:{color:"var(--text-secondary)"},children:"No children listed"})})]})]}),(0,n.jsxs)("div",{className:"summary-item",children:[(0,n.jsx)("span",{className:"icon",children:"person"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Assigned Worker:"}),(0,n.jsx)("p",{children:a.assigned_worker||"Unassigned"})]})]}),(0,n.jsxs)("div",{className:"summary-item",children:[(0,n.jsx)("span",{className:"icon",children:"location_on"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"County:"}),(0,n.jsx)("p",{children:a.county})]})]})]})]}),(0,n.jsxs)("div",{className:"tab-navigation",style:{marginBottom:"var(--unit-6)"},children:[(0,n.jsxs)("button",{className:"overview"===j?"active":"",onClick:()=>f("overview"),children:[(0,n.jsx)("span",{className:"icon",children:"dashboard"}),"Overview"]}),(0,n.jsxs)("button",{className:"people"===j?"active":"",onClick:()=>f("people"),"data-tab":"people",children:[(0,n.jsx)("span",{className:"icon",children:"people"}),"People & Associations (",o.length,")"]}),(0,n.jsxs)("button",{className:"case-management"===j?"active":"",onClick:()=>f("case-management"),"data-tab":"case-management",children:[(0,n.jsx)("span",{className:"icon",children:"work"}),"Case Management"]}),(0,n.jsxs)("button",{className:"legal"===j?"active":"",onClick:()=>f("legal"),"data-tab":"legal",children:[(0,n.jsx)("span",{className:"icon",children:"gavel"}),"Legal & Documentation"]}),(0,n.jsxs)("button",{className:"timeline"===j?"active":"",onClick:()=>f("timeline"),children:[(0,n.jsx)("span",{className:"icon",children:"timeline"}),"Timeline (",p.length,")"]})]}),"overview"===j&&(0,n.jsx)("div",{className:"tab-content",children:(0,n.jsxs)("div",{className:"overview-grid",children:[(0,n.jsxs)("article",{className:"overview-section",children:[(0,n.jsx)("h3",{children:"Case Information"}),(0,n.jsxs)("div",{className:"detail-list",children:[(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsx)("strong",{children:"Allegation Description:"}),(0,n.jsx)("p",{children:a.allegation_description})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsx)("strong",{children:"Status:"}),(0,n.jsx)("p",{children:a.status})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsx)("strong",{children:"Priority Level:"}),(0,n.jsx)("p",{children:a.priority_level})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsx)("strong",{children:"Last Updated:"}),(0,n.jsx)("p",{children:new Date(a.last_updated).toLocaleDateString()})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsx)("strong",{children:"Risk Level:"}),(0,n.jsx)("p",{children:a.risk_level||"Not assessed"})]})]})]}),(0,n.jsxs)("article",{className:"overview-section",children:[(0,n.jsx)("h3",{children:"Recent Activity"}),(0,n.jsxs)("div",{className:"activity-list",children:[p.slice(0,3).map(e=>(0,n.jsxs)("div",{className:"activity-item",children:[(0,n.jsx)("div",{className:"activity-icon ".concat(k(e.priority)),children:(0,n.jsx)("span",{className:"icon",children:w(e.event_type)})}),(0,n.jsxs)("div",{className:"activity-content",children:[(0,n.jsx)("h4",{children:e.title}),(0,n.jsx)("p",{children:e.description}),(0,n.jsxs)("span",{className:"activity-date",children:[new Date(e.date).toLocaleDateString()," - ",e.created_by]})]})]},e.event_id)),0===p.length&&(0,n.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"var(--unit-4)"},children:"No recent activity"})]})]}),(0,n.jsxs)("article",{className:"overview-section",children:[(0,n.jsx)("h3",{children:"Recent Case Notes"}),(0,n.jsxs)("div",{className:"notes-list",children:[a.case_notes&&a.case_notes.slice(0,3).map(e=>(0,n.jsxs)("div",{className:"note-item",children:[(0,n.jsxs)("div",{className:"note-header",children:[(0,n.jsx)("strong",{children:e.created_by}),(0,n.jsx)("span",{className:"note-date",children:new Date(e.created_date).toLocaleDateString()})]}),(0,n.jsx)("p",{children:e.text})]},e.note_id)),(!a.case_notes||0===a.case_notes.length)&&(0,n.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"var(--unit-4)"},children:"No case notes yet"})]}),(0,n.jsxs)("button",{className:"action-btn secondary",style:{marginTop:"var(--unit-4)"},children:[(0,n.jsx)("span",{className:"icon",children:"note_add"}),"Add Case Note"]})]})]})}),"timeline"===j&&(0,n.jsx)("div",{className:"tab-content",children:(0,n.jsxs)("article",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,n.jsx)("h3",{children:"Case Timeline"}),(0,n.jsxs)("button",{className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"add"}),"Add Event"]})]}),(0,n.jsxs)("div",{className:"timeline",children:[p.map(e=>(0,n.jsxs)("div",{className:"timeline-item",children:[(0,n.jsx)("div",{className:"timeline-marker ".concat(k(e.priority)),children:(0,n.jsx)("span",{className:"icon",children:w(e.event_type)})}),(0,n.jsxs)("div",{className:"timeline-content",children:[(0,n.jsxs)("div",{className:"timeline-header",children:[(0,n.jsx)("h4",{children:e.title}),(0,n.jsxs)("span",{className:"timeline-date",children:[new Date(e.date).toLocaleDateString()," at ",new Date(e.date).toLocaleTimeString()]})]}),(0,n.jsx)("p",{children:e.description}),(0,n.jsxs)("div",{className:"timeline-meta",children:[(0,n.jsxs)("span",{className:"timeline-author",children:["By: ",e.created_by]}),(0,n.jsx)("span",{className:"timeline-type ".concat(e.event_type),children:e.event_type.replace("_"," ").toUpperCase()})]})]})]},e.event_id)),0===p.length&&(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"timeline"}),(0,n.jsx)("p",{children:"No timeline events yet"})]})]})]})}),"people"===j&&(0,n.jsxs)("div",{className:"tab-content",children:[(0,n.jsx)("div",{style:{backgroundColor:"#f8fafc",borderRadius:"8px",padding:"8px",marginBottom:"var(--unit-4)",border:"1px solid #e2e8f0"},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"4px",width:"100%"},children:[(0,n.jsxs)("button",{className:"sub-tab ".concat("people"===v.people?"active":""),onClick:()=>y({...v,people:"people"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"people"===v.people?"#dbeafe":"transparent",color:"people"===v.people?"#1e40af":"#64748b",fontWeight:"people"===v.people?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"people"}),"People"]}),(0,n.jsxs)("button",{className:"sub-tab ".concat("associations"===v.people?"active":""),onClick:()=>y({...v,people:"associations"}),"data-subtab":"associations",style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"associations"===v.people?"#dbeafe":"transparent",color:"associations"===v.people?"#1e40af":"#64748b",fontWeight:"associations"===v.people?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"family_restroom"}),"Associations"]}),(0,n.jsxs)("button",{className:"sub-tab ".concat("health"===v.people?"active":""),onClick:()=>y({...v,people:"health"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"health"===v.people?"#dbeafe":"transparent",color:"health"===v.people?"#1e40af":"#64748b",fontWeight:"health"===v.people?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"medical_services"}),"Health"]}),(0,n.jsxs)("button",{className:"sub-tab ".concat("education"===v.people?"active":""),onClick:()=>y({...v,people:"education"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"education"===v.people?"#dbeafe":"transparent",color:"education"===v.people?"#1e40af":"#64748b",fontWeight:"education"===v.people?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"school"}),"Education/Income"]})]})}),"people"===v.people&&(0,n.jsxs)("article",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,n.jsx)("h3",{children:"People Involved"}),(0,n.jsxs)("button",{className:"action-btn small primary",style:{padding:"8px 12px",fontSize:"13px",minWidth:"auto",width:"auto",flex:"none",display:"inline-flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"16px"},children:"person_add"}),"Add Person"]})]}),(0,n.jsxs)("div",{className:"persons-grid",children:[o.map(e=>(0,n.jsxs)("div",{className:"person-card",children:[(0,n.jsxs)("div",{className:"person-header",children:[(0,n.jsxs)("div",{className:"person-info",children:[(0,n.jsxs)("h4",{children:[e.first_name," ",e.last_name]}),(0,n.jsx)("p",{className:"person-role",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),(0,n.jsxs)("p",{className:"person-age",children:["Age: ",Math.floor((new Date().getTime()-new Date(e.date_of_birth).getTime())/315576e5)]})]}),e.indicators&&e.indicators.length>0&&(0,n.jsx)("div",{className:"person-indicators",children:e.indicators.map((e,s)=>(0,n.jsx)("span",{className:"indicator-badge",children:e},s))})]}),(0,n.jsxs)("div",{className:"person-contact",children:[e.contact_info.phone&&(0,n.jsxs)("div",{className:"contact-item",children:[(0,n.jsx)("span",{className:"icon",children:"phone"}),(0,n.jsx)("span",{children:e.contact_info.phone})]}),e.contact_info.address&&(0,n.jsxs)("div",{className:"contact-item",children:[(0,n.jsx)("span",{className:"icon",children:"location_on"}),(0,n.jsx)("span",{children:e.contact_info.address})]})]}),(0,n.jsxs)("div",{className:"person-actions",children:[(0,n.jsxs)("button",{className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"visibility"}),"View Profile"]}),(0,n.jsxs)("button",{className:"action-btn secondary",children:[(0,n.jsx)("span",{className:"icon",children:"edit"}),"Edit"]})]})]},e.person_id)),0===o.length&&(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)",gridColumn:"1 / -1"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"people"}),(0,n.jsx)("p",{children:"No people added to this case yet"})]})]})]}),"associations"===v.people&&(0,n.jsxs)("article",{children:[(0,n.jsx)("h3",{children:"Family Associations & Relationships"}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"family_restroom"}),(0,n.jsx)("p",{children:"Association management feature coming soon"})]})]}),"health"===v.people&&(0,n.jsxs)("article",{children:[(0,n.jsx)("h3",{children:"Health Information"}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"medical_services"}),(0,n.jsx)("p",{children:"Health information management feature coming soon"})]})]}),"education"===v.people&&(0,n.jsxs)("article",{children:[(0,n.jsx)("h3",{children:"Education & Income Information"}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"school"}),(0,n.jsx)("p",{children:"Education and income tracking feature coming soon"})]})]})]}),"case-management"===j&&(0,n.jsxs)("div",{className:"tab-content",children:[(0,n.jsx)("div",{style:{backgroundColor:"#f8fafc",borderRadius:"8px",padding:"8px",marginBottom:"var(--unit-4)",border:"1px solid #e2e8f0"},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"4px",width:"100%"},children:[(0,n.jsxs)("button",{className:"sub-tab ".concat("services"===v["case-management"]?"active":""),onClick:()=>y({...v,"case-management":"services"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"services"===v["case-management"]?"#dbeafe":"transparent",color:"services"===v["case-management"]?"#1e40af":"#64748b",fontWeight:"services"===v["case-management"]?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"support"}),"Services"]}),(0,n.jsxs)("button",{className:"sub-tab ".concat("living"===v["case-management"]?"active":""),onClick:()=>y({...v,"case-management":"living"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"living"===v["case-management"]?"#dbeafe":"transparent",color:"living"===v["case-management"]?"#1e40af":"#64748b",fontWeight:"living"===v["case-management"]?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"home"}),"Living Arrangements"]}),(0,n.jsxs)("button",{className:"sub-tab ".concat("notes"===v["case-management"]?"active":""),onClick:()=>y({...v,"case-management":"notes"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"notes"===v["case-management"]?"#dbeafe":"transparent",color:"notes"===v["case-management"]?"#1e40af":"#64748b",fontWeight:"notes"===v["case-management"]?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"note"}),"Notes"]})]})}),"services"===v["case-management"]&&(0,n.jsxs)("article",{children:[(0,n.jsx)("h3",{children:"Services & Support"}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"support"}),(0,n.jsx)("p",{children:"Services management feature coming soon"})]})]}),"living"===v["case-management"]&&(0,n.jsxs)("article",{children:[(0,n.jsx)("h3",{children:"Living Arrangements & Placements"}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"home"}),(0,n.jsx)("p",{children:"Living arrangements tracking feature coming soon"})]})]}),"notes"===v["case-management"]&&(0,n.jsxs)("article",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,n.jsx)("h3",{children:"Case Notes"}),(0,n.jsxs)("button",{className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"note_add"}),"Add Note"]})]}),(0,n.jsxs)("div",{className:"notes-list",children:[a.case_notes&&a.case_notes.map(e=>(0,n.jsxs)("div",{className:"note-item",children:[(0,n.jsxs)("div",{className:"note-header",children:[(0,n.jsx)("strong",{children:e.created_by}),(0,n.jsx)("span",{className:"note-date",children:new Date(e.created_date).toLocaleDateString()})]}),(0,n.jsx)("p",{children:e.text})]},e.note_id)),(!a.case_notes||0===a.case_notes.length)&&(0,n.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"var(--unit-4)"},children:"No case notes yet"})]})]})]}),"legal"===j&&(0,n.jsxs)("div",{className:"tab-content",children:[(0,n.jsx)("div",{style:{backgroundColor:"#f8fafc",borderRadius:"8px",padding:"8px",marginBottom:"var(--unit-4)",border:"1px solid #e2e8f0"},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4px",width:"100%"},children:[(0,n.jsxs)("button",{className:"sub-tab ".concat("court"===v.legal?"active":""),onClick:()=>y({...v,legal:"court"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"court"===v.legal?"#dbeafe":"transparent",color:"court"===v.legal?"#1e40af":"#64748b",fontWeight:"court"===v.legal?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"gavel"}),"Court"]}),(0,n.jsxs)("button",{className:"sub-tab ".concat("documents"===v.legal?"active":""),onClick:()=>y({...v,legal:"documents"}),style:{padding:"12px 16px",border:"none",borderRadius:"6px",backgroundColor:"documents"===v.legal?"#dbeafe":"transparent",color:"documents"===v.legal?"#1e40af":"#64748b",fontWeight:"documents"===v.legal?"600":"500",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"18px"},children:"folder"}),"Electronic Case File"]})]})}),"court"===v.legal&&(0,n.jsxs)("article",{children:[(0,n.jsx)("h3",{children:"Court Information & Legal Documents"}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"gavel"}),(0,n.jsx)("p",{children:"Court management feature coming soon"})]})]}),"documents"===v.legal&&(0,n.jsxs)("article",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,n.jsx)("h3",{children:"Electronic Case File (ECF)"}),(0,n.jsxs)("button",{className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"upload_file"}),"Upload Document"]})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,n.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"folder_open"}),(0,n.jsx)("p",{children:"Document management feature coming soon"}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"var(--unit-2)"},children:"This will include document upload, categorization, and management capabilities"})]})]})]})]}):(0,n.jsxs)("div",{className:"page-container",children:[(0,n.jsxs)("div",{className:"page-header",children:[(0,n.jsx)("h1",{className:"page-title",children:"Case Not Found"}),(0,n.jsx)("p",{className:"page-description",children:"The requested case could not be found."})]}),(0,n.jsx)("div",{className:"content-wrapper",children:(0,n.jsxs)(t.default,{href:"/",className:"action-btn primary",children:[(0,n.jsx)("span",{className:"icon",children:"arrow_back"}),"Back to Dashboard"]})})]})}},9116:function(e,s,a){"use strict";a.d(s,{$4:function(){return d},BY:function(){return t},Ey:function(){return m},Kj:function(){return p},TZ:function(){return x},k4:function(){return l},r$:function(){return o},tW:function(){return c},xL:function(){return r}});class n{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a="".concat(this.baseUrl).concat(e),n=await fetch(a,{headers:{"Content-Type":"application/json",...s.headers},...s});if(!n.ok)return{error:(await n.json().catch(()=>({}))).error||"HTTP ".concat(n.status,": ").concat(n.statusText)};return{data:await n.json()}}catch(e){return{error:e instanceof Error?e.message:"Unknown error occurred"}}}async getCasesPendingAssignment(){return this.request("/swcm/cases/pending-assignment")}async assignCaseToSWCM(e,s,a){return this.request("/swcm/cases/".concat(e,"/assign"),{method:"POST",body:JSON.stringify({assigned_worker:s,assigned_supervisor:a})})}async getCasesByWorker(e){return this.request("/cases?assigned_worker=".concat(encodeURIComponent(e)))}async getCaseById(e){return this.request("/cases/".concat(e))}async getPersonsByCase(e){return this.request("/cases/".concat(e,"/persons"))}async getCaseNotes(e){return this.request("/cases/".concat(e,"/notes"))}async addCaseNote(e,s,a){return this.request("/cases/".concat(e,"/notes"),{method:"POST",body:JSON.stringify({note_text:s,note_type:a||"General"})})}async updateCase(e,s){return this.request("/cases/".concat(e),{method:"PUT",body:JSON.stringify(s)})}async searchPersons(e){return this.request("/persons/search?q=".concat(encodeURIComponent(e)))}async getPersonById(e){return this.request("/persons/".concat(e))}async healthCheck(){return this.request("/health")}constructor(e="https://ccwis-core-case-mgmt-807576987550.us-central1.run.app"){this.baseUrl=e}}let i=new n,t=()=>i.getCasesPendingAssignment(),r=(e,s,a)=>i.assignCaseToSWCM(e,s,a),c=e=>i.getCasesByWorker(e),l=e=>i.getCaseById(e),o=(e,s,a)=>i.addCaseNote(e,s,a),d=(e,s)=>i.updateCase(e,s),p=e=>i.searchPersons(e),x=e=>i.getPersonById(e),m=async e=>(await new Promise(e=>setTimeout(e,400)),!e||e.length<2)?{data:{incidents:[]},error:void 0}:{data:{incidents:[{incident_number:"INC-2024-001234",child_first_names:"Emma",child_last_names:"Johnson",parent_first_names:"Michael, Sarah",parent_last_names:"Johnson, Johnson",cps_worker:"Dana Wilson",due_date:"2024-09-15",county_of_assessment:"King County",intake_date:"2024-08-15",reported_native_american_heritage:"No",perpetrators:"Michael Johnson",perpetrator_first_name:"Michael",perpetrator_last_name:"Johnson",findings:"Substantiated",allegations:"Physical abuse",victims:"Emma Johnson",victim_first_name:"Emma",victim_last_name:"Johnson",person_id:"12345",role:"Client",gender:"Female",age_calculated:8,prior_workers:"None",current_address:"123 Main St",address_type:"Residential",residence_county:"King County",date_of_birth:"2016-03-12",phone_number:"206-555-0123",phone_type:"Home",address:"123 Main St",city:"Seattle",state:"WA",zip_code:98101,non_custodial_parent:!1,non_custodial_parent_person_id:"",non_custodial_parent_first_name:"",non_custodial_parent_last_name:"",non_custodial_parent_middle_name:"",non_custodial_parent_dob:"",non_custodial_parent_ssn:"",non_custodial_parent_suffix:"",non_custodial_parent_sex:"",non_custodial_parent_race:"",non_custodial_parent_ethnicity:"",legal_custodian:"Sarah Johnson",guardian:"",prior_assessment:"None",type_of_appointment:"",clinic_name:"",appointment_date:""}].filter(s=>s.incident_number.toLowerCase().includes(e.toLowerCase())||s.child_first_names.toLowerCase().includes(e.toLowerCase())||s.child_last_names.toLowerCase().includes(e.toLowerCase())||s.allegations.toLowerCase().includes(e.toLowerCase()))},error:void 0}}},function(e){e.O(0,[972,776,971,117,744],function(){return e(e.s=5627)}),_N_E=e.O()}]);