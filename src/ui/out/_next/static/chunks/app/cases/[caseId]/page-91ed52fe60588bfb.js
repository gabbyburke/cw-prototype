(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[586],{2598:function(e,s,a){Promise.resolve().then(a.bind(a,649))},649:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var i=a(7437),t=a(2265),n=a(7648),r=a(5475),c=a(1930);function d(){let e=(0,r.useParams)().caseId,[s,a]=(0,t.useState)(null),[d,l]=(0,t.useState)([]),[o,_]=(0,t.useState)([]),[m,h]=(0,t.useState)(!0),[p,u]=(0,t.useState)("overview");(0,t.useEffect)(()=>{e&&setTimeout(()=>{let s=(0,c.k4)(e),i=(0,c.VK)(e),t=(0,c.$N)(e);a(s||null),l(i),_(t),h(!1)},500)},[e]);let v=e=>{switch(e){case"case_note":return"note";case"visit":return"home";case"court_hearing":return"gavel";case"placement_change":return"swap_horiz";case"assessment":return"assignment";case"document_upload":return"upload_file";case"assignment_change":return"person_add";default:return"event"}},x=e=>{switch(e){case"high":return"error";case"medium":return"secondary";default:return"primary"}};return m?(0,i.jsx)("div",{children:(0,i.jsx)("header",{children:(0,i.jsx)("h1",{children:"Loading Case Details..."})})}):s?(0,i.jsxs)("div",{children:[(0,i.jsxs)("header",{style:{marginBottom:"var(--unit-6)"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--unit-4)"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:s.primary_child}),(0,i.jsx)("p",{className:"case-number",style:{fontSize:"1.1rem",color:"var(--text-secondary)",marginBottom:"var(--unit-2)"},children:s.case_number}),(0,i.jsxs)("div",{style:{display:"flex",gap:"var(--unit-2)",marginBottom:"var(--unit-2)"},children:[(0,i.jsxs)("span",{className:"badge ".concat((e=>{switch(e.toLowerCase()){case"high":return"error";case"medium":default:return"secondary";case"low":return"tertiary"}})(s.priority_level)),children:[s.priority_level," Priority"]}),(0,i.jsx)("span",{className:"badge ".concat((e=>{switch(e.toLowerCase()){case"active":return"primary";case"pending assignment":default:return"secondary";case"closed":case"draft":return"tertiary"}})(s.status)),children:s.status})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"var(--unit-2)"},children:[(0,i.jsxs)(n.default,{href:"/cases",className:"action-btn secondary",children:[(0,i.jsx)("span",{className:"icon",children:"arrow_back"}),"Back to Cases"]}),(0,i.jsxs)("button",{className:"action-btn primary",children:[(0,i.jsx)("span",{className:"icon",children:"edit"}),"Edit Case"]})]})]}),(0,i.jsxs)("div",{className:"case-summary",children:[(0,i.jsxs)("div",{className:"summary-item",children:[(0,i.jsx)("span",{className:"icon",children:"report"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Allegation:"}),(0,i.jsx)("p",{children:s.allegation_type})]})]}),(0,i.jsxs)("div",{className:"summary-item",children:[(0,i.jsx)("span",{className:"icon",children:"person"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Assigned Worker:"}),(0,i.jsx)("p",{children:s.assigned_worker||"Unassigned"})]})]}),(0,i.jsxs)("div",{className:"summary-item",children:[(0,i.jsx)("span",{className:"icon",children:"schedule"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Created:"}),(0,i.jsx)("p",{children:new Date(s.created_date).toLocaleDateString()})]})]}),s.safety_assessment_due&&(0,i.jsxs)("div",{className:"summary-item urgent",children:[(0,i.jsx)("span",{className:"icon",children:"warning"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Assessment Due:"}),(0,i.jsx)("p",{children:new Date(s.safety_assessment_due).toLocaleDateString()})]})]}),s.next_court_date&&(0,i.jsxs)("div",{className:"summary-item",children:[(0,i.jsx)("span",{className:"icon",children:"gavel"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Next Court Date:"}),(0,i.jsx)("p",{children:new Date(s.next_court_date).toLocaleDateString()})]})]})]})]}),(0,i.jsxs)("div",{className:"tab-navigation",style:{marginBottom:"var(--unit-6)"},children:[(0,i.jsxs)("button",{className:"overview"===p?"active":"",onClick:()=>u("overview"),children:[(0,i.jsx)("span",{className:"icon",children:"dashboard"}),"Overview"]}),(0,i.jsxs)("button",{className:"timeline"===p?"active":"",onClick:()=>u("timeline"),children:[(0,i.jsx)("span",{className:"icon",children:"timeline"}),"Timeline (",o.length,")"]}),(0,i.jsxs)("button",{className:"persons"===p?"active":"",onClick:()=>u("persons"),children:[(0,i.jsx)("span",{className:"icon",children:"people"}),"People (",d.length,")"]}),(0,i.jsxs)("button",{className:"documents"===p?"active":"",onClick:()=>u("documents"),children:[(0,i.jsx)("span",{className:"icon",children:"folder"}),"Documents"]})]}),"overview"===p&&(0,i.jsx)("div",{className:"tab-content",children:(0,i.jsxs)("div",{className:"overview-grid",children:[(0,i.jsxs)("article",{className:"overview-section",children:[(0,i.jsx)("h3",{children:"Case Information"}),(0,i.jsxs)("div",{className:"detail-list",children:[(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("strong",{children:"Allegation Description:"}),(0,i.jsx)("p",{children:s.allegation_description})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("strong",{children:"Status:"}),(0,i.jsx)("p",{children:s.status})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("strong",{children:"Priority Level:"}),(0,i.jsx)("p",{children:s.priority_level})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("strong",{children:"Last Updated:"}),(0,i.jsx)("p",{children:new Date(s.last_updated).toLocaleDateString()})]}),s.referral_id&&(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("strong",{children:"Referral ID:"}),(0,i.jsx)("p",{children:s.referral_id})]})]})]}),(0,i.jsxs)("article",{className:"overview-section",children:[(0,i.jsx)("h3",{children:"Recent Activity"}),(0,i.jsxs)("div",{className:"activity-list",children:[o.slice(0,3).map(e=>(0,i.jsxs)("div",{className:"activity-item",children:[(0,i.jsx)("div",{className:"activity-icon ".concat(x(e.priority)),children:(0,i.jsx)("span",{className:"icon",children:v(e.event_type)})}),(0,i.jsxs)("div",{className:"activity-content",children:[(0,i.jsx)("h4",{children:e.title}),(0,i.jsx)("p",{children:e.description}),(0,i.jsxs)("span",{className:"activity-date",children:[new Date(e.date).toLocaleDateString()," - ",e.created_by]})]})]},e.event_id)),0===o.length&&(0,i.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"var(--unit-4)"},children:"No recent activity"})]})]}),(0,i.jsxs)("article",{className:"overview-section",children:[(0,i.jsx)("h3",{children:"Recent Case Notes"}),(0,i.jsxs)("div",{className:"notes-list",children:[s.case_notes.slice(0,3).map(e=>(0,i.jsxs)("div",{className:"note-item",children:[(0,i.jsxs)("div",{className:"note-header",children:[(0,i.jsx)("strong",{children:e.created_by}),(0,i.jsx)("span",{className:"note-date",children:new Date(e.created_date).toLocaleDateString()})]}),(0,i.jsx)("p",{children:e.text})]},e.note_id)),0===s.case_notes.length&&(0,i.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"var(--unit-4)"},children:"No case notes yet"})]}),(0,i.jsxs)("button",{className:"action-btn secondary",style:{marginTop:"var(--unit-4)"},children:[(0,i.jsx)("span",{className:"icon",children:"note_add"}),"Add Case Note"]})]})]})}),"timeline"===p&&(0,i.jsx)("div",{className:"tab-content",children:(0,i.jsxs)("article",{children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,i.jsx)("h3",{children:"Case Timeline"}),(0,i.jsxs)("button",{className:"action-btn primary",children:[(0,i.jsx)("span",{className:"icon",children:"add"}),"Add Event"]})]}),(0,i.jsxs)("div",{className:"timeline",children:[o.map(e=>(0,i.jsxs)("div",{className:"timeline-item",children:[(0,i.jsx)("div",{className:"timeline-marker ".concat(x(e.priority)),children:(0,i.jsx)("span",{className:"icon",children:v(e.event_type)})}),(0,i.jsxs)("div",{className:"timeline-content",children:[(0,i.jsxs)("div",{className:"timeline-header",children:[(0,i.jsx)("h4",{children:e.title}),(0,i.jsxs)("span",{className:"timeline-date",children:[new Date(e.date).toLocaleDateString()," at ",new Date(e.date).toLocaleTimeString()]})]}),(0,i.jsx)("p",{children:e.description}),(0,i.jsxs)("div",{className:"timeline-meta",children:[(0,i.jsxs)("span",{className:"timeline-author",children:["By: ",e.created_by]}),(0,i.jsx)("span",{className:"timeline-type ".concat(e.event_type),children:e.event_type.replace("_"," ").toUpperCase()})]})]})]},e.event_id)),0===o.length&&(0,i.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,i.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"timeline"}),(0,i.jsx)("p",{children:"No timeline events yet"})]})]})]})}),"persons"===p&&(0,i.jsx)("div",{className:"tab-content",children:(0,i.jsxs)("article",{children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,i.jsx)("h3",{children:"People Involved"}),(0,i.jsxs)("button",{className:"action-btn primary",children:[(0,i.jsx)("span",{className:"icon",children:"person_add"}),"Add Person"]})]}),(0,i.jsxs)("div",{className:"persons-grid",children:[d.map(e=>(0,i.jsxs)("div",{className:"person-card",children:[(0,i.jsxs)("div",{className:"person-header",children:[(0,i.jsxs)("div",{className:"person-info",children:[(0,i.jsxs)("h4",{children:[e.first_name," ",e.last_name]}),(0,i.jsx)("p",{className:"person-role",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),(0,i.jsxs)("p",{className:"person-age",children:["Age: ",Math.floor((new Date().getTime()-new Date(e.date_of_birth).getTime())/315576e5)]})]}),e.indicators&&e.indicators.length>0&&(0,i.jsx)("div",{className:"person-indicators",children:e.indicators.map((e,s)=>(0,i.jsx)("span",{className:"indicator-badge",children:e},s))})]}),(0,i.jsxs)("div",{className:"person-contact",children:[e.contact_info.phone&&(0,i.jsxs)("div",{className:"contact-item",children:[(0,i.jsx)("span",{className:"icon",children:"phone"}),(0,i.jsx)("span",{children:e.contact_info.phone})]}),e.contact_info.address&&(0,i.jsxs)("div",{className:"contact-item",children:[(0,i.jsx)("span",{className:"icon",children:"location_on"}),(0,i.jsx)("span",{children:e.contact_info.address})]})]}),(0,i.jsxs)("div",{className:"person-actions",children:[(0,i.jsxs)("button",{className:"action-btn primary",children:[(0,i.jsx)("span",{className:"icon",children:"visibility"}),"View Profile"]}),(0,i.jsxs)("button",{className:"action-btn secondary",children:[(0,i.jsx)("span",{className:"icon",children:"edit"}),"Edit"]})]})]},e.person_id)),0===d.length&&(0,i.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)",gridColumn:"1 / -1"},children:[(0,i.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"people"}),(0,i.jsx)("p",{children:"No people added to this case yet"})]})]})]})}),"documents"===p&&(0,i.jsx)("div",{className:"tab-content",children:(0,i.jsxs)("article",{children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--unit-4)"},children:[(0,i.jsx)("h3",{children:"Electronic Case File (ECF)"}),(0,i.jsxs)("button",{className:"action-btn primary",children:[(0,i.jsx)("span",{className:"icon",children:"upload_file"}),"Upload Document"]})]}),(0,i.jsxs)("div",{style:{textAlign:"center",padding:"var(--unit-8)",color:"var(--text-secondary)"},children:[(0,i.jsx)("span",{className:"icon",style:{fontSize:"3rem",marginBottom:"var(--unit-4)"},children:"folder_open"}),(0,i.jsx)("p",{children:"Document management feature coming soon"}),(0,i.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"var(--unit-2)"},children:"This will include document upload, categorization, and management capabilities"})]})]})})]}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("header",{children:[(0,i.jsx)("h1",{children:"Case Not Found"}),(0,i.jsx)("p",{children:"The requested case could not be found."})]}),(0,i.jsxs)(n.default,{href:"/cases",className:"action-btn primary",children:[(0,i.jsx)("span",{className:"icon",children:"arrow_back"}),"Back to Cases"]})]})}},1930:function(e,s,a){"use strict";a.d(s,{$N:function(){return o},I7:function(){return n},TZ:function(){return m},VK:function(){return l},bs:function(){return i},k4:function(){return _},t6:function(){return d},tW:function(){return c},ts:function(){return h}});let i=[{user_id:"user_1",name:"Olivia Rodriguez",role:"caseworker",email:"olivia.rodriguez@state.gov"},{user_id:"user_2",name:"Michael Chen",role:"caseworker",email:"michael.chen@state.gov"},{user_id:"user_3",name:"Sarah Williams",role:"supervisor",email:"sarah.williams@state.gov"},{user_id:"user_4",name:"David Thompson",role:"caseworker",email:"david.thompson@state.gov"}],t=[{person_id:"person_1",first_name:"Emma",last_name:"Johnson",date_of_birth:"2017-03-15",role:"child",case_id:"case_1",contact_info:{address:"123 Maple Street, Des Moines, IA 50309"},indicators:["Medical Needs","School Issues"]},{person_id:"person_2",first_name:"Robert",last_name:"Johnson",date_of_birth:"1985-07-22",role:"parent",case_id:"case_1",contact_info:{phone:"(515) 555-0123",address:"123 Maple Street, Des Moines, IA 50309"}},{person_id:"person_3",first_name:"Lisa",last_name:"Johnson",date_of_birth:"1987-11-08",role:"parent",case_id:"case_1",contact_info:{phone:"(515) 555-0124",address:"123 Maple Street, Des Moines, IA 50309"}},{person_id:"person_4",first_name:"Carlos",last_name:"Martinez",date_of_birth:"2019-05-10",role:"child",case_id:"case_2",contact_info:{address:"456 Oak Avenue, Cedar Rapids, IA 52402"},indicators:["Allergy - Peanuts"]},{person_id:"person_5",first_name:"Maria",last_name:"Martinez",date_of_birth:"1992-02-14",role:"parent",case_id:"case_2",contact_info:{phone:"(319) 555-0234",address:"456 Oak Avenue, Cedar Rapids, IA 52402"}},{person_id:"person_6",first_name:"Tyler",last_name:"Wilson",date_of_birth:"2015-09-03",role:"child",case_id:"case_3",contact_info:{address:"789 Pine Road, Iowa City, IA 52240"}},{person_id:"person_7",first_name:"Jennifer",last_name:"Wilson",date_of_birth:"1988-12-20",role:"parent",case_id:"case_3",contact_info:{phone:"(319) 555-0345",address:"789 Pine Road, Iowa City, IA 52240"},indicators:["Substance Abuse History"]},{person_id:"person_8",first_name:"Sarah",last_name:"Thompson",date_of_birth:"2012-01-18",role:"child",case_id:"case_4",contact_info:{address:"321 Elm Street, Waterloo, IA 50701"}},{person_id:"person_9",first_name:"Mark",last_name:"Thompson",date_of_birth:"1980-06-12",role:"parent",case_id:"case_4",contact_info:{phone:"(319) 555-0456",address:"321 Elm Street, Waterloo, IA 50701"}},{person_id:"person_10",first_name:"Ashley",last_name:"Davis",date_of_birth:"2016-08-25",role:"child",case_id:"case_5",contact_info:{address:"654 Birch Lane, Ames, IA 50010"},indicators:["ICWA Eligible"]},{person_id:"person_11",first_name:"Jessica",last_name:"Davis",date_of_birth:"1995-04-03",role:"parent",case_id:"case_5",contact_info:{phone:"(515) 555-0567",address:"654 Birch Lane, Ames, IA 50010"}}],n=[{case_id:"case_1",case_number:"CASE-20240115103000",status:"Active",priority_level:"High",assigned_worker:"Olivia Rodriguez",assigned_supervisor:"Sarah Williams",primary_child:"Emma Johnson",allegation_type:"Physical Abuse",allegation_description:"School nurse reported bruising on child's arms consistent with physical abuse",created_date:"2024-01-15T10:30:00Z",last_updated:"2024-01-18T14:20:00Z",created_by:"System",referral_id:"ref_001",case_notes:[{note_id:"note_1",text:"Initial home visit completed. Child appears safe in current environment. Father cooperative during interview.",created_by:"Olivia Rodriguez",created_date:"2024-01-16T09:15:00Z"},{note_id:"note_2",text:"Spoke with school nurse who made initial report. Provided additional details about observed injuries.",created_by:"Olivia Rodriguez",created_date:"2024-01-17T11:30:00Z"}],involved_persons:["person_1","person_2","person_3"],next_court_date:"2024-01-25T13:30:00Z",safety_assessment_due:"2024-01-19T17:00:00Z"},{case_id:"case_2",case_number:"CASE-20240110143000",status:"Active",priority_level:"Medium",assigned_worker:"Olivia Rodriguez",assigned_supervisor:"Sarah Williams",primary_child:"Carlos Martinez",allegation_type:"Neglect",allegation_description:"Neighbor reported child left unattended for extended periods",created_date:"2024-01-10T14:30:00Z",last_updated:"2024-01-17T16:45:00Z",created_by:"System",referral_id:"ref_002",case_notes:[{note_id:"note_3",text:"Mother appears overwhelmed but willing to accept services. Discussed parenting resources.",created_by:"Olivia Rodriguez",created_date:"2024-01-12T10:00:00Z"}],involved_persons:["person_4","person_5"],case_plan_due:"2024-01-24T17:00:00Z"},{case_id:"case_3",case_number:"CASE-20240105091500",status:"Active",priority_level:"Medium",assigned_worker:"Michael Chen",assigned_supervisor:"Sarah Williams",primary_child:"Tyler Wilson",allegation_type:"Substance Abuse - Parent",allegation_description:"Anonymous report of parent using drugs while caring for child",created_date:"2024-01-05T09:15:00Z",last_updated:"2024-01-16T12:30:00Z",created_by:"System",referral_id:"ref_003",case_notes:[{note_id:"note_4",text:"Parent agreed to voluntary drug testing. Results pending.",created_by:"Michael Chen",created_date:"2024-01-08T14:20:00Z"}],involved_persons:["person_6","person_7"],next_court_date:"2024-01-22T10:00:00Z"},{case_id:"case_4",case_number:"CASE-20240108112000",status:"Closed",priority_level:"Low",assigned_worker:"David Thompson",assigned_supervisor:"Sarah Williams",primary_child:"Sarah Thompson",allegation_type:"Educational Neglect",allegation_description:"School counselor reported chronic absenteeism and lack of parental engagement",created_date:"2024-01-08T11:20:00Z",last_updated:"2024-01-15T09:00:00Z",created_by:"System",referral_id:"ref_004",case_notes:[{note_id:"note_5",text:"Case closed - services no longer needed. Family successfully engaged with school support services.",created_by:"David Thompson",created_date:"2024-01-15T09:00:00Z"}],involved_persons:["person_8","person_9"]},{case_id:"case_5",case_number:"CASE-20240118090000",status:"Pending Assignment",priority_level:"High",assigned_supervisor:"Sarah Williams",primary_child:"Ashley Davis",allegation_type:"Sexual Abuse",allegation_description:"Child disclosed inappropriate touching by mother's boyfriend",created_date:"2024-01-18T09:00:00Z",last_updated:"2024-01-18T09:00:00Z",created_by:"System",referral_id:"ref_005",case_notes:[],involved_persons:["person_10","person_11"],safety_assessment_due:"2024-01-19T09:00:00Z"},{case_id:"case_6",case_number:"CASE-20240118140000",status:"Pending Assignment",priority_level:"Medium",assigned_supervisor:"Sarah Williams",primary_child:"Michael Brown",allegation_type:"Neglect",allegation_description:"Medical neglect - child missed multiple medical appointments",created_date:"2024-01-18T14:00:00Z",last_updated:"2024-01-18T14:00:00Z",created_by:"System",referral_id:"ref_006",case_notes:[],involved_persons:[],safety_assessment_due:"2024-01-21T14:00:00Z"}],r=[{event_id:"event_1",case_id:"case_1",event_type:"case_note",title:"Initial Home Visit",description:"Completed initial safety assessment and interviewed family members",date:"2024-01-16T09:15:00Z",created_by:"Olivia Rodriguez",priority:"high"},{event_id:"event_2",case_id:"case_1",event_type:"document_upload",title:"Medical Records Uploaded",description:"Hospital records from emergency room visit uploaded to case file",date:"2024-01-16T15:30:00Z",created_by:"Olivia Rodriguez"},{event_id:"event_3",case_id:"case_1",event_type:"court_hearing",title:"Emergency Custody Hearing",description:"Court granted temporary custody to state pending investigation",date:"2024-01-17T10:00:00Z",created_by:"Court System",priority:"high"},{event_id:"event_4",case_id:"case_2",event_type:"visit",title:"Unannounced Home Visit",description:"Conducted welfare check - child present and appears healthy",date:"2024-01-12T14:20:00Z",created_by:"Olivia Rodriguez"},{event_id:"event_5",case_id:"case_2",event_type:"assessment",title:"Safety Assessment Completed",description:"Comprehensive safety assessment indicates moderate risk level",date:"2024-01-13T11:00:00Z",created_by:"Olivia Rodriguez",priority:"medium"}],c=e=>n.filter(s=>s.assigned_worker===e),d=()=>n.filter(e=>"Pending Assignment"===e.status),l=e=>t.filter(s=>s.case_id===e),o=e=>r.filter(s=>s.case_id===e).sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()),_=e=>n.find(s=>s.case_id===e),m=e=>t.find(s=>s.person_id===e),h=()=>i[0]},7648:function(e,s,a){"use strict";a.d(s,{default:function(){return t.a}});var i=a(2972),t=a.n(i)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=2598)}),_N_E=e.O()}]);